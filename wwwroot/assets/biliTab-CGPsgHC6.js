const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/biliCredential-CcA7Yhg8.js","assets/vendor-element-plus-CAbZ6VM0.js","assets/vendor-libs-DUytVOgY.js","assets/vendor-exceljs-BzIpynsW.js","assets/vendor-libs-CtmmCz1m.css","assets/vendor-element-plus-B-fPOo-g.css","assets/request-C2d-pRYf.js"])))=>i.map(i=>d[i]);
import{_ as e}from"./index-NUBkmFdY.js";import{v as l,u as a,w as o,C as d,D as s,F as r,x as n,q as t,m as u,G as i,a as m}from"./vendor-element-plus-CAbZ6VM0.js";import{r as _}from"./request-C2d-pRYf.js";import{u as p}from"./danmaku-HSbRWeUS.js";import{q as c,r as f,ab as v,_ as g,M as V,t as b,v as y,V as h,L as j,U as x,ay as k,S as w,T as U,u as C,O,bP as q}from"./vendor-libs-DUytVOgY.js";import"./vendor-vue-BEIf0qVf.js";import"./vendor-exceljs-BzIpynsW.js";const B=c({__name:"biliTab",setup(c){const B=q(()=>e(()=>import("./biliCredential-CcA7Yhg8.js"),__vite__mapDeps([0,1,2,3,4,5,6]))),D=f(),L=f(!1),T=v({id:0,room_id:0,modal_level:1,user_level:0,sing_prefix:"点歌",sing_cd:0}),E=p(),F=[{key:"普通用户",value:0},{key:"舰长",value:3},{key:"提督",value:2},{key:"总督",value:1}];return g(()=>{L.value=!0,_.getBiliConfig({}).then(e=>{const l=e.data;if(0!=l.code)m.warning(l.msg);else{const e=l.data.data;e&&Object.assign(T,e)}L.value=!1}).catch(e=>{m.error(e),L.value=!1})}),(e,p)=>{const c=d,f=o,v=r,g=s,q=n,P=a,A=u,G=i,I=l;return V((y(),b("div",null,[h(A,null,{header:j(()=>[...p[6]||(p[6]=[O("div",{class:"card-header"},[O("span",null,"基础设置")],-1)])]),default:j(()=>[h(P,{model:T,ref_key:"refForm",ref:D,"label-width":"auto"},{default:j(()=>[h(f,{label:"房间号",prop:"room_id"},{default:j(()=>[h(c,{modelValue:T.room_id,"onUpdate:modelValue":p[0]||(p[0]=e=>T.room_id=e),placeholder:"B站直播间号",min:1,controls:!1},null,8,["modelValue"])]),_:1}),h(f,{label:"粉丝牌等级",prop:"modal_level"},{default:j(()=>[h(c,{modelValue:T.modal_level,"onUpdate:modelValue":p[1]||(p[1]=e=>T.modal_level=e),placeholder:"粉丝牌等级",min:0,controls:!1},null,8,["modelValue"])]),_:1}),h(f,{label:"用户等级",prop:"user_level"},{default:j(()=>[h(g,{modelValue:T.user_level,"onUpdate:modelValue":p[2]||(p[2]=e=>T.user_level=e)},{default:j(()=>[(y(),b(x,null,k(F,e=>h(v,{value:e.value},{default:j(()=>[w(U(e.key),1)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"])]),_:1}),h(f,{label:"点歌指令",prop:"sing_prefix"},{default:j(()=>[h(q,{modelValue:T.sing_prefix,"onUpdate:modelValue":p[3]||(p[3]=e=>T.sing_prefix=e),placeholder:"点歌指令",type:"text",style:{width:"240px"}},null,8,["modelValue"])]),_:1}),h(f,{label:"点歌cd",prop:"sing_cd"},{default:j(()=>[h(c,{modelValue:T.sing_cd,"onUpdate:modelValue":p[4]||(p[4]=e=>T.sing_cd=e),placeholder:"点歌cd，单位：秒",min:0,controls:!1},null,8,["modelValue"])]),_:1}),h(f,null,{default:j(()=>[h(C(t),{type:"primary",onClick:p[5]||(p[5]=e=>{"number"!=typeof T.room_id||T.room_id<1?m.warning("请输入正确的房间号"):"number"!=typeof T.modal_level||T.modal_level<0?m.warning("请输入正确的粉丝牌等级"):0!=T.sing_prefix.length?"number"!=typeof T.sing_cd||T.sing_cd<0?m.warning("请输入正确的点歌cd"):_.addOrUpdateBiliConfig({data:T}).then(e=>{const l=e.data;0!=l.code?m.warning(l.msg):(m.success(l.msg),T.id=l.data,E.clearDanmakuList())}).catch(e=>m.error(e)):m.warning("请输入正确的点歌指令")})},{default:j(()=>[...p[7]||(p[7]=[w("保存",-1)])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),h(G),h(C(B))])),[[I,L.value]])}}});export{B as default};
