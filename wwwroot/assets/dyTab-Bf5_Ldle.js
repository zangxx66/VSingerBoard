import{d as v,r as p,b as y,o as C,e as _,f,w as n,k as r,bp as w,m as k,aK as F,u as U,aI as h,h as u,E as s}from"./index-ChAUYrtk.js";/* empty css                   */import{E as B}from"./el-card-Bpcb9mwR.js";import{E as D,a as I}from"./el-form-item-DUXHibzR.js";/* empty css                  *//* empty css                 */import"./Settings-DZOER_pg.js";import"./toNumber-Bqw2R8PT.js";const A=v({__name:"dyTab",setup(L){const c=p(),i=p(!1),o=y({id:0,room_id:0,sing_prefix:"点歌",sing_cd:0}),m=()=>{u.getDyConfig({}).then(t=>{const e=t.data;if(e.code!=0)s.warning(e.msg);else{if(!e.data.data)return;const a=e.data.data;o.id=a.id,o.room_id=a.room_id,o.sing_prefix=a.sing_prefix,o.sing_cd=a.sing_cd}}).catch(t=>s.error(t))},g=()=>{i.value=!0,u.addOrUpdateDyConfig({data:o}).then(t=>{const e=t.data;e.code!=0?s.warning(e.msg):(s.success(e.msg),m()),i.value=!1}).catch(t=>{s.error(t),i.value=!1})};return C(()=>{m()}),(t,e)=>{const a=w,l=I,x=F,b=D,E=B,V=h;return f(),_(E,null,{default:n(()=>[r(b,{mode:o,ref_key:"refForm",ref:c,"label-width":"auto"},{default:n(()=>[r(l,{label:"房间号",prop:"room_id"},{default:n(()=>[r(a,{modelValue:o.room_id,"onUpdate:modelValue":e[0]||(e[0]=d=>o.room_id=d),type:"text",min:"1"},null,8,["modelValue"])]),_:1}),r(l,{label:"点歌指令",prop:"sing_prefix"},{default:n(()=>[r(a,{modelValue:o.sing_prefix,"onUpdate:modelValue":e[1]||(e[1]=d=>o.sing_prefix=d),type:"text"},null,8,["modelValue"])]),_:1}),r(l,null,{default:n(()=>[k((f(),_(x,{type:"primary",onClick:g},{default:n(()=>[...e[2]||(e[2]=[U("保存",-1)])]),_:1})),[[V,i.value]])]),_:1})]),_:1},8,["mode"])]),_:1})}}});export{A as default};
