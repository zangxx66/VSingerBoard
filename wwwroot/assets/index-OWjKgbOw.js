import{E as a,b as e,v as s}from"./vendor-element-plus-PA8NbRwA.js";import{_ as n}from"./linkIcon-D5KOdVAY.js";import{n as r,$ as t,r as l,Q as o,q as i,D as d,b1 as c,aq as g,t as u,E as h,x as p,z as m,J as v,u as f}from"./vendor-libs-CtdD0BV-.js";import{r as j,u as b}from"./index-np4UiN3b.js";import"./vendor-exceljs-C-8i3j8b.js";import{B as x,m as _}from"./vendor-marked-BA71NfC7.js";import{H as L}from"./vendor-highlight-js-DhZgkat3.js";import"./vendor-vue-DUF2Sw6W.js";const k={class:"changelog-container"},w=["innerHTML"],H=r({__name:"index",setup(r){const H=t({version:"",publishedAt:"",changelog:""}),y=l(!1),A=new x(_({emptyLangClass:"hljs",langPrefix:"",highlight(a,e,s){const n=L.getLanguage(e)?e:"plaintext";return L.highlight(a,{language:n}).value}})),E=n;return o(()=>{(async()=>{y.value=!0;const e=await j.checkUpdate({});if(0==e.data.code){const a=e.data.data;H.version=a.version,H.publishedAt=b(a.published_at);const s=await A.parse(a.body),n=document.createElement("div");c(g(E),n);const r=n.innerHTML;H.changelog=s.replace(/<a href/g,'<a target="_blank" href').replace(/<\/a>/g,`${r}</a>`)}else a.warning("获取更新日志失败");y.value=!1})()}),(a,n)=>{const r=e,t=s;return u(),i(r,null,{header:d(()=>[...n[0]||(n[0]=[m("div",{class:"card-header"},[m("span",null,"更新日志")],-1)])]),default:d(()=>[h((u(),p("div",k,[m("h3",null,v(f(H).version),1),m("p",null,v(f(H).publishedAt),1),m("div",{class:"md-content",innerHTML:f(H).changelog},null,8,w)])),[[t,f(y)]])]),_:1})}}});export{H as default};
