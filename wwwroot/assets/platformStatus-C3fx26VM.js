import{t as s,f as o,w as a,q as e,a as t}from"./vendor-element-plus-qW3C2DUX.js";import{o as l,r,c as i,q as c,t as n,M as m,R as p,U as u,S as d,K as g,L as C,J as f,Q as w,A as v,bD as b,bE as _}from"./vendor-libs-DrwAYO3L.js";import{a as A}from"./index-C5BYMrVs.js";import"./vendor-exceljs-BzIpynsW.js";import"./vendor-vue-Bh1BfAe7.js";const j={class:"platform-status-container"},y=["src","alt"],E=A(l({__name:"platformStatus",props:{platform:{},roomId:{},wsStatus:{}},setup(l){const A=l,E=r(!1),F=()=>{E.value=!0;try{"bilibili"==A.platform?window.pywebview.api.restart_bilibili_ws():window.pywebview.api.restart_douyin_ws(),t.success("刷新成功，请等待操作完成")}catch(s){t.error(s)}finally{setTimeout(()=>{E.value=!1},5e3)}},x={bilibili:new Map([[-1,{color:"#F56C6C",icon:v,message:"未配置或出现错误"}],[0,{color:"#E6A23C",icon:b,message:"初始化"}],[1,{color:"#E6A23C",icon:b,message:"连接建立中"}],[2,{color:"#67C23A",icon:_,message:"已连接"}],[3,{color:"#E6A23C",icon:b,message:"断开连接中"}],[4,{color:"#F56C6C",icon:v,message:"已断开"}],[5,{color:"#F56C6C",icon:v,message:"出现错误"}]]),douyin:new Map([[-1,{color:"#F56C6C",icon:v,message:"未配置或出现错误"}],[0,{color:"#E6A23C",icon:b,message:"未连接"}],[1,{color:"#67C23A",icon:_,message:"已连接"}],[2,{color:"#E6A23C",icon:b,message:"已断开"}],[3,{color:"#F56C6C",icon:v,message:"出现错误"}]])},S=i(()=>x[A.platform].get(A.wsStatus));return(t,l)=>{const r=o,i=s,v=e,b=a;return n(),c("div",j,[m("img",{src:`/assets/images/${t.platform}.png`,class:"source-img",alt:t.platform,width:"24"},null,8,y),p("："+d(t.roomId)+"   ",1),u(v,{placement:"top"},{content:g(()=>[m("span",null,"当前状态："+d(S.value.message)+"，如有异常点击重新连接",1)]),default:g(()=>[C((n(),f(i,{text:"",onClick:F},{default:g(()=>[u(r,{color:S.value.color,class:"status-img"},{default:g(()=>[(n(),f(w(S.value.icon)))]),_:1},8,["color"])]),_:1})),[[b,E.value]])]),_:1})])}}}),[["__scopeId","data-v-72b94e55"]]);export{E as default};
