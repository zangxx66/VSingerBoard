const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/fansMedal-D0KOGJVh.js","assets/vendor-libs-BJ1SQKxe.js","assets/vendor-exceljs-BzIpynsW.js","assets/vendor-libs-CtmmCz1m.css","assets/_plugin-vue_export-helper-BCo6x5W8.js","assets/fansMedal-BqDEV9G7.css"])))=>i.map(i=>d[i]);
import{_ as e}from"./index-PVAVDtve.js";import{a,k as l,n as s,o as n}from"./vendor-element-plus-J1ABhGI2.js";import{a as t}from"./tool-Dmzci1qF.js";import"./vendor-exceljs-BzIpynsW.js";import{q as m,r as u,_ as d,K as r,v as i,L as o,bH as _,V as v,M as c,t as f,U as p,aT as g,aR as b,S as k,T as y,Q as h,u as j,bI as T}from"./vendor-libs-BJ1SQKxe.js";import"./vendor-vue-aS4A03Y7.js";const M={class:"danmaku-list"},x={class:"danmaku-list-item"},L=m({__name:"Danmaku",setup(m){const L=T(()=>e(()=>import("./fansMedal-D0KOGJVh.js"),__vite__mapDeps([0,1,2,3,4,5]))),E=u(Array()),H=()=>{};return d(()=>{document.title="点歌列表",_("ws://127.0.0.1:8080",{autoReconnect:!0,autoClose:!0,heartbeat:{message:"heartbeat",interval:5e3,pongTimeout:1e4},onMessage:(e,a)=>{if(!a.data.startsWith("Echo")){const e=JSON.parse(a.data),l=e.filter(e=>"douyin"==e.source),s=e.filter(e=>"bilibili"==e.source);E.value=[...E.value,...t(l,"douyin"),...t(s,"bilibili")]}}})}),(e,t)=>{const m=s,u=b("fans-club"),d=l,_=a,T=n;return i(),r(_,{class:"danmaku-container"},{default:o(()=>[v(d,null,{default:o(()=>[c((i(),f("div",M,[(i(!0),f(p,null,g(E.value,e=>(i(),f("div",x,[v(m,{tag:"span",class:"danmaku-sing"},{default:o(()=>[null!=e.html&&e.html.length>0?(i(),r(m,{key:0,innerHTML:e.html,style:{display:"flex"}},null,8,["innerHTML"])):(i(),f(p,{key:1},[k(y(e.msg),1)],64))]),_:2},1024),v(m,{tag:"span",class:"danmaku-uname"},{default:o(()=>[k(y(e.uname)+" ",1),e.medal_level>0?(i(),f(p,{key:0},["bilibili"==e.source?(i(),r(j(L),{key:0,medal_name:e.medal_name,medal_level:e.medal_level,guard_level:e.guard_level},null,8,["medal_name","medal_level","guard_level"])):h("",!0),"douyin"==e.source?(i(),r(u,{key:1,medal_name:e.medal_name,medal_level:e.medal_level,guard_level:e.guard_level},null,8,["medal_name","medal_level","guard_level"])):h("",!0)],64)):h("",!0)]),_:2},1024)]))),256))])),[[T,H]])]),_:1})]),_:1})}}});export{L as default};
