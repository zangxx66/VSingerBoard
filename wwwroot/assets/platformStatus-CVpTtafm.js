import{r as s,f as a,v as o,p as t}from"./vendor-element-plus-KTUucB3F.js";import{o as e,r as l,c as r,bv as i,A as c,bw as m,q as n,t as u,M as p,R as d,U as v,S as f,K as w,L as b,J as g,Q as C}from"./vendor-libs-C0o6WDcM.js";import{a as _}from"./index-CXGiK0R0.js";import"./vendor-exceljs-BzIpynsW.js";import"./vendor-vue-Dc1K7n3v.js";const S={class:"platform-status-container"},j=["src","alt"],A=_(e({__name:"platformStatus",props:{platform:{},roomId:{},wsStatus:{}},setup(e){const _=e,A=l(!1),x=()=>{A.value=!0,"bilibili"==_.platform?window.pywebview.api.restart_bilibili():window.pywebview.api.restart_douyin(),setTimeout(()=>{A.value=!1},5e3)},y=r(()=>"bilibili"==_.platform?_.wsStatus>=0&&_.wsStatus<=2?{color:"#67C23A",icon:i,message:"已连接"}:-1==_.wsStatus?{color:"#E6A23C",icon:c,message:"未配置或出现错误"}:{color:"#F56C6C",icon:m,message:"已断开"}:1==_.wsStatus?{color:"#67C23A",icon:i,message:"已连接"}:0==_.wsStatus?{color:"#E6A23C",icon:m,message:"已断开"}:{color:"#F56C6C",icon:c,message:"未配置或出现错误"});return(e,l)=>{const r=a,i=s,c=t,m=o;return u(),n("div",S,[p("img",{src:`/assets/images/${e.platform}.png`,class:"source-img",alt:e.platform,width:"24"},null,8,j),d("："+f(e.roomId)+"   ",1),v(c,{placement:"top"},{content:w(()=>[p("span",null,"当前状态："+f(y.value.message)+"，如有异常点击重新连接",1)]),default:w(()=>[b((u(),g(i,{text:"",onClick:x},{default:w(()=>[v(r,{color:y.value.color,class:"status-img"},{default:w(()=>[(u(),g(C(y.value.icon)))]),_:1},8,["color"])]),_:1})),[[m,A.value]])]),_:1})])}}}),[["__scopeId","data-v-72bb49f0"]]);export{A as default};
