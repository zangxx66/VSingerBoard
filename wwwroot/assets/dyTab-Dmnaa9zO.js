import{d as y,r as _,j as C,o as E,G as p,l as f,P as n,n as r,Z as w,a0 as F,bB as k,a4 as s}from"./index-BvkWL9Ob.js";import{E as B,r as u}from"./request-Ctc3osCU.js";import{e as U,f as D,E as h,d as I}from"./el-input-BxVCudBG.js";import"./setting-s1JyQnLX.js";import"./Home-BtdsijjN.js";const q=y({__name:"dyTab",setup(L){const c=_(),l=_(!1),o=C({id:0,room_id:0,sing_prefix:"点歌",sing_cd:0}),m=()=>{u.getDyConfig({}).then(t=>{const e=t.data;if(e.code!=0)s.warning(e.msg);else{if(!e.data.data)return;const a=e.data.data;o.id=a.id,o.room_id=a.room_id,o.sing_prefix=a.sing_prefix,o.sing_cd=a.sing_cd}}).catch(t=>s.error(t))},g=()=>{l.value=!0,u.addOrUpdateDyConfig({data:o}).then(t=>{const e=t.data;e.code!=0?s.warning(e.msg):(s.success(e.msg),m()),l.value=!1}).catch(t=>{s.error(t),l.value=!1})};return E(()=>{m()}),(t,e)=>{const a=h,d=D,x=I,V=U,b=B,v=k;return f(),p(b,null,{default:n(()=>[r(V,{mode:o,ref_key:"refForm",ref:c,"label-width":"auto"},{default:n(()=>[r(d,{label:"房间号",prop:"room_id"},{default:n(()=>[r(a,{modelValue:o.room_id,"onUpdate:modelValue":e[0]||(e[0]=i=>o.room_id=i),type:"text",min:"1"},null,8,["modelValue"])]),_:1}),r(d,{label:"点歌指令",prop:"sing_prefix"},{default:n(()=>[r(a,{modelValue:o.sing_prefix,"onUpdate:modelValue":e[1]||(e[1]=i=>o.sing_prefix=i),type:"text"},null,8,["modelValue"])]),_:1}),r(d,null,{default:n(()=>[w((f(),p(x,{type:"primary",onClick:g},{default:n(()=>[...e[2]||(e[2]=[F("保存",-1)])]),_:1})),[[v,l.value]])]),_:1})]),_:1},8,["mode"])]),_:1})}}});export{q as default};
