import{q as s,e as o,v as a,n as e,a as l}from"./vendor-element-plus-CAbZ6VM0.js";import{q as t,r,c,t as i,v as n,O as m,S as u,V as p,T as g,L as C,M as d,K as w,R as f,C as v,bQ as b,bR as _}from"./vendor-libs-DUytVOgY.js";import"./vendor-exceljs-BzIpynsW.js";const A={class:"platform-status-container"},y=["src","alt"],E=t({__name:"platformStatus",props:{platform:{},roomId:{},wsStatus:{}},setup(t){const E=t,F=r(!1),j=()=>{F.value=!0;try{"bilibili"==E.platform?window.pywebview.api.restart_bilibili_ws():window.pywebview.api.restart_douyin_ws(),l.success("刷新成功，请等待操作完成")}catch(s){l.error(s)}finally{setTimeout(()=>{F.value=!1},5e3)}},S={bilibili:new Map([[-1,{color:"#F56C6C",icon:v,message:"未配置或出现错误"}],[0,{color:"#E6A23C",icon:b,message:"初始化"}],[1,{color:"#E6A23C",icon:b,message:"连接建立中"}],[2,{color:"#67C23A",icon:_,message:"已连接"}],[3,{color:"#E6A23C",icon:b,message:"断开连接中"}],[4,{color:"#F56C6C",icon:v,message:"已断开"}],[5,{color:"#F56C6C",icon:v,message:"出现错误"}]]),douyin:new Map([[-1,{color:"#F56C6C",icon:v,message:"未配置或出现错误"}],[0,{color:"#E6A23C",icon:b,message:"未连接"}],[1,{color:"#67C23A",icon:_,message:"已连接"}],[2,{color:"#E6A23C",icon:b,message:"已断开"}],[3,{color:"#F56C6C",icon:v,message:"出现错误"}]])},x=c(()=>S[E.platform].get(E.wsStatus));return(l,r)=>{const c=o,v=s,b=e,_=a;return n(),i("div",A,[m("img",{src:`/assets/images/${t.platform}.png`,class:"source-img",alt:t.platform,width:"24"},null,8,y),u("："+g(t.roomId)+"   ",1),p(b,{placement:"top"},{content:C(()=>[m("span",null,"当前状态："+g(x.value.message)+"，如有异常点击重新连接",1)]),default:C(()=>[d((n(),w(v,{text:"",onClick:j},{default:C(()=>[p(c,{color:x.value.color,class:"status-img"},{default:C(()=>[(n(),w(f(x.value.icon)))]),_:1},8,["color"])]),_:1})),[[_,F.value]])]),_:1})])}}});export{E as default};
