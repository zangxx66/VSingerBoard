import{bs as t,r as e,br as n,aa as r,h as o,bt as a,aS as s,bu as c,aC as i,Z as u,a2 as l,ax as f,c as p,i as h,bv as d,a0 as m,q as g,u as v,bp as y,p as b,au as E}from"./vendor-libs-jc_y8n1R.js";let A;const O=t=>A=t,R=Symbol();function I(t){return t&&"object"==typeof t&&"[object Object]"===Object.prototype.toString.call(t)&&"function"!=typeof t.toJSON}var N,w;function _(){const r=t(!0),o=r.run(()=>e({}));let a=[],s=[];const c=n({install(t){O(c),c._a=t,t.provide(R,c),t.config.globalProperties.$pinia=c,s.forEach(t=>a.push(t)),s=[]},use(t){return this._a?a.push(t):s.push(t),this},_p:a,_a:null,_e:r,_s:new Map,state:o});return c}(w=N||(N={})).direct="direct",w.patchObject="patch object",w.patchFunction="patch function";const C=()=>{};function T(t,e,n,r=C){t.push(e);const o=()=>{const n=t.indexOf(e);n>-1&&(t.splice(n,1),r())};return!n&&c()&&i(o),o}function S(t,...e){t.slice().forEach(t=>{t(...e)})}const P=t=>t(),D=Symbol(),x=Symbol();function G(t,e){t instanceof Map&&e instanceof Map?e.forEach((e,n)=>t.set(n,e)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],s=t[n];I(s)&&I(r)&&t.hasOwnProperty(n)&&!o(r)&&!a(r)?t[n]=G(s,r):t[n]=r}return t}const k=Symbol();function B(t){return!I(t)||!Object.prototype.hasOwnProperty.call(t,k)}const{assign:j}=Object;function L(t){return!(!o(t)||!t.effect)}function V(n,c,i={},f,p,h){let d;const m=j({actions:{}},i),g={deep:!0};let v,y,b,E=[],A=[];const R=f.state.value[n];let I;function w(t){let e;v=y=!1,"function"==typeof t?(t(f.state.value[n]),e={type:N.patchFunction,storeId:n,events:b}):(G(f.state.value[n],t),e={type:N.patchObject,payload:t,storeId:n,events:b});const r=I=Symbol();l().then(()=>{I===r&&(v=!0)}),y=!0,S(E,e,f.state.value[n])}h||R||(f.state.value[n]={}),e({});const _=h?function(){const{state:t}=i,e=t?t():{};this.$patch(t=>{j(t,e)})}:C;const k=(t,e="")=>{if(D in t)return t[x]=e,t;const r=function(){O(f);const e=Array.from(arguments),o=[],a=[];let s;S(A,{args:e,name:r[x],store:$,after:function(t){o.push(t)},onError:function(t){a.push(t)}});try{s=t.apply(this&&this.$id===n?this:$,e)}catch(c){throw S(a,c),c}return s instanceof Promise?s.then(t=>(S(o,t),t)).catch(t=>(S(a,t),Promise.reject(t))):(S(o,s),s)};return r[D]=!0,r[x]=e,r},V={_p:f,$id:n,$onAction:T.bind(null,A),$patch:w,$reset:_,$subscribe(t,e={}){const r=T(E,t,e.detached,()=>o()),o=d.run(()=>u(()=>f.state.value[n],r=>{("sync"===e.flush?y:v)&&t({storeId:n,type:N.direct,events:b},r)},j({},g,e)));return r},$dispose:function(){d.stop(),E=[],A=[],f._s.delete(n)}},$=r(V);f._s.set(n,$);const U=(f._a&&f._a.runWithContext||P)(()=>f._e.run(()=>(d=t()).run(()=>c({action:k}))));for(const t in U){const e=U[t];if(o(e)&&!L(e)||a(e))h||(R&&B(e)&&(o(e)?e.value=R[t]:G(e,R[t])),f.state.value[n][t]=e);else if("function"==typeof e){const n=k(e,t);U[t]=n,m.actions[t]=e}}return j($,U),j(s($),U),Object.defineProperty($,"$state",{get:()=>f.state.value[n],set:t=>{w(e=>{j(e,t)})}}),f._p.forEach(t=>{j($,d.run(()=>t({store:$,app:f._a,pinia:f,options:m})))}),R&&h&&i.hydrate&&i.hydrate($.$state,R),v=!0,y=!0,$}function $(t,e,r){let o;const a="function"==typeof e;function s(r,s){const c=d();(r=r||(c?h(R,null):null))&&O(r),(r=A)._s.has(t)||(a?V(t,e,o,r):function(t,e,r){const{state:o,actions:a,getters:s}=e,c=r.state.value[t];let i;i=V(t,function(){c||(r.state.value[t]=o?o():{});const e=f(r.state.value[t]);return j(e,a,Object.keys(s||{}).reduce((e,o)=>(e[o]=n(p(()=>{O(r);const e=r._s.get(t);return s[o].call(e,e)})),e),{}))},e,r,0,!0)}(t,o,r));return r._s.get(t)}return o=a?r:e,s.$id=t,s}const U="undefined"!=typeof document;function M(t){return"object"==typeof t||"displayName"in t||"props"in t||"__vccOpts"in t}const q=Object.assign;function F(t,e){const n={};for(const r in e){const o=e[r];n[r]=H(o)?o.map(t):t(o)}return n}const W=()=>{},H=Array.isArray;function z(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}const K=/#/g,Q=/&/g,X=/\//g,Y=/=/g,Z=/\?/g,J=/\+/g,tt=/%5B/g,et=/%5D/g,nt=/%5E/g,rt=/%60/g,ot=/%7B/g,at=/%7C/g,st=/%7D/g,ct=/%20/g;function it(t){return null==t?"":encodeURI(""+t).replace(at,"|").replace(tt,"[").replace(et,"]")}function ut(t){return it(t).replace(J,"%2B").replace(ct,"+").replace(K,"%23").replace(Q,"%26").replace(rt,"`").replace(ot,"{").replace(st,"}").replace(nt,"^")}function lt(t){return ut(t).replace(Y,"%3D")}function ft(t){return function(t){return it(t).replace(K,"%23").replace(Z,"%3F")}(t).replace(X,"%2F")}function pt(t){if(null==t)return null;try{return decodeURIComponent(""+t)}catch(e){}return""+t}const ht=/\/$/;function dt(t,e,n="/"){let r,o={},a="",s="";const c=e.indexOf("#");let i=e.indexOf("?");return i=c>=0&&i>c?-1:i,i>=0&&(r=e.slice(0,i),a=e.slice(i,c>0?c:e.length),o=t(a.slice(1))),c>=0&&(r=r||e.slice(0,c),s=e.slice(c,e.length)),r=function(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),o=r[r.length-1];".."!==o&&"."!==o||r.push("");let a,s,c=n.length-1;for(a=0;a<r.length;a++)if(s=r[a],"."!==s){if(".."!==s)break;c>1&&c--}return n.slice(0,c).join("/")+"/"+r.slice(a).join("/")}(null!=r?r:e,n),{fullPath:r+a+s,path:r,query:o,hash:pt(s)}}function mt(t,e){return e&&t.toLowerCase().startsWith(e.toLowerCase())?t.slice(e.length)||"/":t}function gt(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function vt(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!yt(t[n],e[n]))return!1;return!0}function yt(t,e){return H(t)?bt(t,e):H(e)?bt(e,t):t===e}function bt(t,e){return H(e)?t.length===e.length&&t.every((t,n)=>t===e[n]):1===t.length&&t[0]===e}const Et={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let At=function(t){return t.pop="pop",t.push="push",t}({}),Ot=function(t){return t.back="back",t.forward="forward",t.unknown="",t}({});function Rt(t){if(!t)if(U){const e=document.querySelector("base");t=(t=e&&e.getAttribute("href")||"/").replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return"/"!==t[0]&&"#"!==t[0]&&(t="/"+t),t.replace(ht,"")}const It=/^[^#]+#/;function Nt(t,e){return t.replace(It,"#")+e}const wt=()=>({left:window.scrollX,top:window.scrollY});function _t(t){let e;if("el"in t){const n=t.el,r="string"==typeof n&&n.startsWith("#"),o="string"==typeof n?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;e=function(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}(o,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(null!=e.left?e.left:window.scrollX,null!=e.top?e.top:window.scrollY)}function Ct(t,e){return(history.state?history.state.position-e:-1)+t}const Tt=new Map;function St(t){return"string"==typeof t||"symbol"==typeof t}let Pt=function(t){return t[t.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",t[t.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",t[t.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",t[t.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",t[t.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",t}({});const Dt=Symbol("");function xt(t,e){return q(new Error,{type:t,[Dt]:!0},e)}function Gt(t,e){return t instanceof Error&&Dt in t&&(null==e||!!(t.type&e))}Pt.MATCHER_NOT_FOUND,Pt.NAVIGATION_GUARD_REDIRECT,Pt.NAVIGATION_ABORTED,Pt.NAVIGATION_CANCELLED,Pt.NAVIGATION_DUPLICATED;function kt(t){const e={};if(""===t||"?"===t)return e;const n=("?"===t[0]?t.slice(1):t).split("&");for(let r=0;r<n.length;++r){const t=n[r].replace(J," "),o=t.indexOf("="),a=pt(o<0?t:t.slice(0,o)),s=o<0?null:pt(t.slice(o+1));if(a in e){let t=e[a];H(t)||(t=e[a]=[t]),t.push(s)}else e[a]=s}return e}function Bt(t){let e="";for(let n in t){const r=t[n];n=lt(n),null!=r?(H(r)?r.map(t=>t&&ut(t)):[r&&ut(r)]).forEach(t=>{void 0!==t&&(e+=(e.length?"&":"")+n,null!=t&&(e+="="+t))}):void 0!==r&&(e+=(e.length?"&":"")+n)}return e}function jt(t){const e={};for(const n in t){const r=t[n];void 0!==r&&(e[n]=H(r)?r.map(t=>null==t?null:""+t):null==r?r:""+r)}return e}const Lt=Symbol(""),Vt=Symbol(""),$t=Symbol(""),Ut=Symbol(""),Mt=Symbol("");function qt(){let t=[];return{add:function(e){return t.push(e),()=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)}},list:()=>t.slice(),reset:function(){t=[]}}}function Ft(t,e,n,r,o,a=t=>t()){const s=r&&(r.enterCallbacks[o]=r.enterCallbacks[o]||[]);return()=>new Promise((c,i)=>{const u=t=>{var a;!1===t?i(xt(Pt.NAVIGATION_ABORTED,{from:n,to:e})):t instanceof Error?i(t):"string"==typeof(a=t)||a&&"object"==typeof a?i(xt(Pt.NAVIGATION_GUARD_REDIRECT,{from:e,to:t})):(s&&r.enterCallbacks[o]===s&&"function"==typeof t&&s.push(t),c())},l=a(()=>t.call(r&&r.instances[o],e,n,u));let f=Promise.resolve(l);t.length<3&&(f=f.then(u)),f.catch(t=>i(t))})}function Wt(t,e,n,r,o=t=>t()){const a=[];for(const s of t)for(const t in s.components){let c=s.components[t];if("beforeRouteEnter"===e||s.instances[t])if(M(c)){const i=(c.__vccOpts||c)[e];i&&a.push(Ft(i,n,r,s,t,o))}else{let i=c();a.push(()=>i.then(a=>{if(!a)throw new Error(`Couldn't resolve component "${t}" at "${s.path}"`);const c=(i=a).__esModule||"Module"===i[Symbol.toStringTag]||i.default&&M(i.default)?a.default:a;var i;s.mods[t]=a,s.components[t]=c;const u=(c.__vccOpts||c)[e];return u&&Ft(u,n,r,s,t,o)()}))}}return a}function Ht(t,e){const{pathname:n,search:r,hash:o}=e,a=t.indexOf("#");if(a>-1){let e=o.includes(t.slice(a))?t.slice(a).length:1,n=o.slice(e);return"/"!==n[0]&&(n="/"+n),mt(n,"")}return mt(n,t)+r+o}function zt(t,e,n,r=!1,o=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:o?wt():null}}function Kt(t){const{history:e,location:n}=window,r={value:Ht(t,n)},o={value:e.state};function a(r,a,s){const c=t.indexOf("#"),i=c>-1?(n.host&&document.querySelector("base")?t:t.slice(c))+r:location.protocol+"//"+location.host+t+r;try{e[s?"replaceState":"pushState"](a,"",i),o.value=a}catch(u){n[s?"replace":"assign"](i)}}return o.value||a(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0),{location:r,state:o,push:function(t,n){const s=q({},o.value,e.state,{forward:t,scroll:wt()});a(s.current,s,!0),a(t,q({},zt(r.value,t,null),{position:s.position+1},n),!1),r.value=t},replace:function(t,n){a(t,q({},e.state,zt(o.value.back,t,o.value.forward,!0),n,{position:o.value.position}),!0),r.value=t}}}function Qt(t){const e=Kt(t=Rt(t)),n=function(t,e,n,r){let o=[],a=[],s=null;const c=({state:a})=>{const c=Ht(t,location),i=n.value,u=e.value;let l=0;if(a){if(n.value=c,e.value=a,s&&s===i)return void(s=null);l=u?a.position-u.position:0}else r(c);o.forEach(t=>{t(n.value,i,{delta:l,type:At.pop,direction:l?l>0?Ot.forward:Ot.back:Ot.unknown})})};function i(){if("hidden"===document.visibilityState){const{history:t}=window;if(!t.state)return;t.replaceState(q({},t.state,{scroll:wt()}),"")}}return window.addEventListener("popstate",c),window.addEventListener("pagehide",i),document.addEventListener("visibilitychange",i),{pauseListeners:function(){s=n.value},listen:function(t){o.push(t);const e=()=>{const e=o.indexOf(t);e>-1&&o.splice(e,1)};return a.push(e),e},destroy:function(){for(const t of a)t();a=[],window.removeEventListener("popstate",c),window.removeEventListener("pagehide",i),document.removeEventListener("visibilitychange",i)}}}(t,e.state,e.location,e.replace);const r=q({location:"",base:t,go:function(t,e=!0){e||n.pauseListeners(),history.go(t)},createHref:Nt.bind(null,t)},e,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}let Xt=function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.Group=2]="Group",t}({});var Yt=function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.ParamRegExp=2]="ParamRegExp",t[t.ParamRegExpEnd=3]="ParamRegExpEnd",t[t.EscapeNext=4]="EscapeNext",t}(Yt||{});const Zt={type:Xt.Static,value:""},Jt=/[a-zA-Z0-9_]/;const te="[^/]+?",ee={sensitive:!1,strict:!1,start:!0,end:!0};var ne=function(t){return t[t._multiplier=10]="_multiplier",t[t.Root=90]="Root",t[t.Segment=40]="Segment",t[t.SubSegment=30]="SubSegment",t[t.Static=40]="Static",t[t.Dynamic=20]="Dynamic",t[t.BonusCustomRegExp=10]="BonusCustomRegExp",t[t.BonusWildcard=-50]="BonusWildcard",t[t.BonusRepeatable=-20]="BonusRepeatable",t[t.BonusOptional=-8]="BonusOptional",t[t.BonusStrict=.7000000000000001]="BonusStrict",t[t.BonusCaseSensitive=.25]="BonusCaseSensitive",t}(ne||{});const re=/[.+*?^${}()[\]/\\]/g;function oe(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?1===t.length&&t[0]===ne.Static+ne.Segment?-1:1:t.length>e.length?1===e.length&&e[0]===ne.Static+ne.Segment?1:-1:0}function ae(t,e){let n=0;const r=t.score,o=e.score;for(;n<r.length&&n<o.length;){const t=oe(r[n],o[n]);if(t)return t;n++}if(1===Math.abs(o.length-r.length)){if(se(r))return 1;if(se(o))return-1}return o.length-r.length}function se(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const ce={strict:!1,end:!0,sensitive:!1};function ie(t,e,n){const r=function(t,e){const n=q({},ee,e),r=[];let o=n.start?"^":"";const a=[];for(const c of t){const t=c.length?[]:[ne.Root];n.strict&&!c.length&&(o+="/");for(let e=0;e<c.length;e++){const r=c[e];let s=ne.Segment+(n.sensitive?ne.BonusCaseSensitive:0);if(r.type===Xt.Static)e||(o+="/"),o+=r.value.replace(re,"\\$&"),s+=ne.Static;else if(r.type===Xt.Param){const{value:t,repeatable:n,optional:i,regexp:u}=r;a.push({name:t,repeatable:n,optional:i});const l=u||te;l!==te&&(s+=ne.BonusCustomRegExp);let f=n?`((?:${l})(?:/(?:${l}))*)`:`(${l})`;e||(f=i&&c.length<2?`(?:/${f})`:"/"+f),i&&(f+="?"),o+=f,s+=ne.Dynamic,i&&(s+=ne.BonusOptional),n&&(s+=ne.BonusRepeatable),".*"===l&&(s+=ne.BonusWildcard)}t.push(s)}r.push(t)}if(n.strict&&n.end){const t=r.length-1;r[t][r[t].length-1]+=ne.BonusStrict}n.strict||(o+="/?"),n.end?o+="$":n.strict&&!o.endsWith("/")&&(o+="(?:/|$)");const s=new RegExp(o,n.sensitive?"":"i");return{re:s,score:r,keys:a,parse:function(t){const e=t.match(s),n={};if(!e)return null;for(let r=1;r<e.length;r++){const t=e[r]||"",o=a[r-1];n[o.name]=t&&o.repeatable?t.split("/"):t}return n},stringify:function(e){let n="",r=!1;for(const o of t){r&&n.endsWith("/")||(n+="/"),r=!1;for(const t of o)if(t.type===Xt.Static)n+=t.value;else if(t.type===Xt.Param){const{value:a,repeatable:s,optional:c}=t,i=a in e?e[a]:"";if(H(i)&&!s)throw new Error(`Provided param "${a}" is an array but it is not repeatable (* or + modifiers)`);const u=H(i)?i.join("/"):i;if(!u){if(!c)throw new Error(`Missing required param "${a}"`);o.length<2&&(n.endsWith("/")?n=n.slice(0,-1):r=!0)}n+=u}}return n||"/"}}}(function(t){if(!t)return[[]];if("/"===t)return[[Zt]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(t){throw new Error(`ERR (${n})/"${u}": ${t}`)}let n=Yt.Static,r=n;const o=[];let a;function s(){a&&o.push(a),a=[]}let c,i=0,u="",l="";function f(){u&&(n===Yt.Static?a.push({type:Xt.Static,value:u}):n===Yt.Param||n===Yt.ParamRegExp||n===Yt.ParamRegExpEnd?(a.length>1&&("*"===c||"+"===c)&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),a.push({type:Xt.Param,value:u,regexp:l,repeatable:"*"===c||"+"===c,optional:"*"===c||"?"===c})):e("Invalid state to consume buffer"),u="")}function p(){u+=c}for(;i<t.length;)if(c=t[i++],"\\"!==c||n===Yt.ParamRegExp)switch(n){case Yt.Static:"/"===c?(u&&f(),s()):":"===c?(f(),n=Yt.Param):p();break;case Yt.EscapeNext:p(),n=r;break;case Yt.Param:"("===c?n=Yt.ParamRegExp:Jt.test(c)?p():(f(),n=Yt.Static,"*"!==c&&"?"!==c&&"+"!==c&&i--);break;case Yt.ParamRegExp:")"===c?"\\"==l[l.length-1]?l=l.slice(0,-1)+c:n=Yt.ParamRegExpEnd:l+=c;break;case Yt.ParamRegExpEnd:f(),n=Yt.Static,"*"!==c&&"?"!==c&&"+"!==c&&i--,l="";break;default:e("Unknown state")}else r=n,n=Yt.EscapeNext;return n===Yt.ParamRegExp&&e(`Unfinished custom RegExp for param "${u}"`),f(),s(),o}(t.path),n),o=q(r,{record:t,parent:e,children:[],alias:[]});return e&&!o.record.aliasOf==!e.record.aliasOf&&e.children.push(o),o}function ue(t,e){const n=[],r=new Map;function o(t,n,r){const c=!r,i=fe(t);i.aliasOf=r&&r.record;const u=z(e,t),l=[i];if("alias"in t){const e="string"==typeof t.alias?[t.alias]:t.alias;for(const t of e)l.push(fe(q({},i,{components:r?r.record.components:i.components,path:t,aliasOf:r?r.record:i})))}let f,p;for(const e of l){const{path:l}=e;if(n&&"/"!==l[0]){const t=n.record.path,r="/"===t[t.length-1]?"":"/";e.path=n.record.path+(l&&r+l)}if(f=ie(e,n,u),r?r.alias.push(f):(p=p||f,p!==f&&p.alias.push(f),c&&t.name&&!he(f)&&a(t.name)),me(f)&&s(f),i.children){const t=i.children;for(let e=0;e<t.length;e++)o(t[e],f,r&&r.children[e])}r=r||f}return p?()=>{a(p)}:W}function a(t){if(St(t)){const e=r.get(t);e&&(r.delete(t),n.splice(n.indexOf(e),1),e.children.forEach(a),e.alias.forEach(a))}else{const e=n.indexOf(t);e>-1&&(n.splice(e,1),t.record.name&&r.delete(t.record.name),t.children.forEach(a),t.alias.forEach(a))}}function s(t){const e=function(t,e){let n=0,r=e.length;for(;n!==r;){const o=n+r>>1;ae(t,e[o])<0?r=o:n=o+1}const o=function(t){let e=t;for(;e=e.parent;)if(me(e)&&0===ae(t,e))return e}(t);o&&(r=e.lastIndexOf(o,r-1));return r}(t,n);n.splice(e,0,t),t.record.name&&!he(t)&&r.set(t.record.name,t)}return e=z(ce,e),t.forEach(t=>o(t)),{addRoute:o,resolve:function(t,e){let o,a,s,c={};if("name"in t&&t.name){if(o=r.get(t.name),!o)throw xt(Pt.MATCHER_NOT_FOUND,{location:t});s=o.record.name,c=q(le(e.params,o.keys.filter(t=>!t.optional).concat(o.parent?o.parent.keys.filter(t=>t.optional):[]).map(t=>t.name)),t.params&&le(t.params,o.keys.map(t=>t.name))),a=o.stringify(c)}else if(null!=t.path)a=t.path,o=n.find(t=>t.re.test(a)),o&&(c=o.parse(a),s=o.record.name);else{if(o=e.name?r.get(e.name):n.find(t=>t.re.test(e.path)),!o)throw xt(Pt.MATCHER_NOT_FOUND,{location:t,currentLocation:e});s=o.record.name,c=q({},e.params,t.params),a=o.stringify(c)}const i=[];let u=o;for(;u;)i.unshift(u.record),u=u.parent;return{name:s,path:a,params:c,matched:i,meta:de(i)}},removeRoute:a,clearRoutes:function(){n.length=0,r.clear()},getRoutes:function(){return n},getRecordMatcher:function(t){return r.get(t)}}}function le(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function fe(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:pe(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function pe(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]="object"==typeof n?n[r]:n;return e}function he(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function de(t){return t.reduce((t,e)=>q(t,e.meta),{})}function me({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function ge(t){const e=h($t),n=h(Ut),r=p(()=>{const n=v(t.to);return e.resolve(n)}),o=p(()=>{const{matched:t}=r.value,{length:e}=t,o=t[e-1],a=n.matched;if(!o||!a.length)return-1;const s=a.findIndex(gt.bind(null,o));if(s>-1)return s;const c=ye(t[e-2]);return e>1&&ye(o)===c&&a[a.length-1].path!==c?a.findIndex(gt.bind(null,t[e-2])):s}),a=p(()=>o.value>-1&&function(t,e){for(const n in e){const r=e[n],o=t[n];if("string"==typeof r){if(r!==o)return!1}else if(!H(o)||o.length!==r.length||r.some((t,e)=>t!==o[e]))return!1}return!0}(n.params,r.value.params)),s=p(()=>o.value>-1&&o.value===n.matched.length-1&&vt(n.params,r.value.params));return{route:r,href:p(()=>r.value.href),isActive:a,isExactActive:s,navigate:function(n={}){if(function(t){if(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)return;if(t.defaultPrevented)return;if(void 0!==t.button&&0!==t.button)return;if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}t.preventDefault&&t.preventDefault();return!0}(n)){const n=e[v(t.replace)?"replace":"push"](v(t.to)).catch(W);return t.viewTransition&&"undefined"!=typeof document&&"startViewTransition"in document&&document.startViewTransition(()=>n),n}return Promise.resolve()}}}const ve=g({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:ge,setup(t,{slots:e}){const n=r(ge(t)),{options:o}=h($t),a=p(()=>({[be(t.activeClass,o.linkActiveClass,"router-link-active")]:n.isActive,[be(t.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=e.default&&(1===(o=e.default(n)).length?o[0]:o);var o;return t.custom?r:E("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:a.value},r)}}});function ye(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const be=(t,e,n)=>null!=t?t:null!=e?e:n;function Ee(t,e){if(!t)return null;const n=t(e);return 1===n.length?n[0]:n}const Ae=g({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:n,slots:r}){const o=h(Mt),a=p(()=>t.route||o.value),s=h(Vt,0),c=p(()=>{let t=v(s);const{matched:e}=a.value;let n;for(;(n=e[t])&&!n.components;)t++;return t}),i=p(()=>a.value.matched[c.value]);b(Vt,p(()=>c.value+1)),b(Lt,i),b(Mt,a);const l=e();return u(()=>[l.value,i.value,t.name],([t,e,n],[r,o,a])=>{e&&(e.instances[n]=t,o&&o!==e&&t&&t===r&&(e.leaveGuards.size||(e.leaveGuards=o.leaveGuards),e.updateGuards.size||(e.updateGuards=o.updateGuards))),!t||!e||o&&gt(e,o)&&r||(e.enterCallbacks[n]||[]).forEach(e=>e(t))},{flush:"post"}),()=>{const e=a.value,o=t.name,s=i.value,c=s&&s.components[o];if(!c)return Ee(r.default,{Component:c,route:e});const u=s.props[o],f=u?!0===u?e.params:"function"==typeof u?u(e):u:null,p=E(c,q({},f,n,{onVnodeUnmounted:t=>{t.component.isUnmounted&&(s.instances[o]=null)},ref:l}));return Ee(r.default,{Component:p,route:e})||p}}});function Oe(t){const e=ue(t.routes,t),n=t.parseQuery||kt,r=t.stringifyQuery||Bt,o=t.history,a=qt(),s=qt(),c=qt(),i=m(Et);let u=Et;U&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const f=F.bind(null,t=>""+t),p=F.bind(null,ft),h=F.bind(null,pt);function d(t,a){if(a=q({},a||i.value),"string"==typeof t){const r=dt(n,t,a.path),s=e.resolve({path:r.path},a),c=o.createHref(r.fullPath);return q(r,s,{params:h(s.params),hash:pt(r.hash),redirectedFrom:void 0,href:c})}let s;if(null!=t.path)s=q({},t,{path:dt(n,t.path,a.path).path});else{const e=q({},t.params);for(const t in e)null==e[t]&&delete e[t];s=q({},t,{params:p(e)}),a.params=p(a.params)}const c=e.resolve(s,a),u=t.hash||"";c.params=f(h(c.params));const l=function(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}(r,q({},t,{hash:(d=u,it(d).replace(ot,"{").replace(st,"}").replace(nt,"^")),path:c.path}));var d;const m=o.createHref(l);return q({fullPath:l,hash:u,query:r===Bt?jt(t.query):t.query||{}},c,{redirectedFrom:void 0,href:m})}function g(t){return"string"==typeof t?dt(n,t,i.value.path):q({},t)}function b(t,e){if(u!==t)return xt(Pt.NAVIGATION_CANCELLED,{from:e,to:t})}function E(t){return O(t)}function A(t,e){const n=t.matched[t.matched.length-1];if(n&&n.redirect){const{redirect:r}=n;let o="function"==typeof r?r(t,e):r;return"string"==typeof o&&(o=o.includes("?")||o.includes("#")?o=g(o):{path:o},o.params={}),q({query:t.query,hash:t.hash,params:null!=o.path?{}:t.params},o)}}function O(t,e){const n=u=d(t),o=i.value,a=t.state,s=t.force,c=!0===t.replace,l=A(n,o);if(l)return O(q(g(l),{state:"object"==typeof l?q({},a,l.state):a,force:s,replace:c}),e||n);const f=n;let p;return f.redirectedFrom=e,!s&&function(t,e,n){const r=e.matched.length-1,o=n.matched.length-1;return r>-1&&r===o&&gt(e.matched[r],n.matched[o])&&vt(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}(r,o,n)&&(p=xt(Pt.NAVIGATION_DUPLICATED,{to:f,from:o}),k(o,o,!0,!1)),(p?Promise.resolve(p):N(f,o)).catch(t=>Gt(t)?Gt(t,Pt.NAVIGATION_GUARD_REDIRECT)?t:G(t):x(t,f,o)).then(t=>{if(t){if(Gt(t,Pt.NAVIGATION_GUARD_REDIRECT))return O(q({replace:c},g(t.to),{state:"object"==typeof t.to?q({},a,t.to.state):a,force:s}),e||f)}else t=_(f,o,!0,c,a);return w(f,o,t),t})}function R(t,e){const n=b(t,e);return n?Promise.reject(n):Promise.resolve()}function I(t){const e=L.values().next().value;return e&&"function"==typeof e.runWithContext?e.runWithContext(t):t()}function N(t,e){let n;const[r,o,c]=function(t,e){const n=[],r=[],o=[],a=Math.max(e.matched.length,t.matched.length);for(let s=0;s<a;s++){const a=e.matched[s];a&&(t.matched.find(t=>gt(t,a))?r.push(a):n.push(a));const c=t.matched[s];c&&(e.matched.find(t=>gt(t,c))||o.push(c))}return[n,r,o]}(t,e);n=Wt(r.reverse(),"beforeRouteLeave",t,e);for(const a of r)a.leaveGuards.forEach(r=>{n.push(Ft(r,t,e))});const i=R.bind(null,t,e);return n.push(i),$(n).then(()=>{n=[];for(const r of a.list())n.push(Ft(r,t,e));return n.push(i),$(n)}).then(()=>{n=Wt(o,"beforeRouteUpdate",t,e);for(const r of o)r.updateGuards.forEach(r=>{n.push(Ft(r,t,e))});return n.push(i),$(n)}).then(()=>{n=[];for(const r of c)if(r.beforeEnter)if(H(r.beforeEnter))for(const o of r.beforeEnter)n.push(Ft(o,t,e));else n.push(Ft(r.beforeEnter,t,e));return n.push(i),$(n)}).then(()=>(t.matched.forEach(t=>t.enterCallbacks={}),n=Wt(c,"beforeRouteEnter",t,e,I),n.push(i),$(n))).then(()=>{n=[];for(const r of s.list())n.push(Ft(r,t,e));return n.push(i),$(n)}).catch(t=>Gt(t,Pt.NAVIGATION_CANCELLED)?t:Promise.reject(t))}function w(t,e,n){c.list().forEach(r=>I(()=>r(t,e,n)))}function _(t,e,n,r,a){const s=b(t,e);if(s)return s;const c=e===Et,u=U?history.state:{};n&&(r||c?o.replace(t.fullPath,q({scroll:c&&u&&u.scroll},a)):o.push(t.fullPath,a)),i.value=t,k(t,e,n,c),G()}let C;function T(){C||(C=o.listen((t,e,n)=>{if(!V.listening)return;const r=d(t),a=A(r,V.currentRoute.value);if(a)return void O(q(a,{replace:!0,force:!0}),r).catch(W);u=r;const s=i.value;var c,l;U&&(c=Ct(s.fullPath,n.delta),l=wt(),Tt.set(c,l)),N(r,s).catch(t=>Gt(t,Pt.NAVIGATION_ABORTED|Pt.NAVIGATION_CANCELLED)?t:Gt(t,Pt.NAVIGATION_GUARD_REDIRECT)?(O(q(g(t.to),{force:!0}),r).then(t=>{Gt(t,Pt.NAVIGATION_ABORTED|Pt.NAVIGATION_DUPLICATED)&&!n.delta&&n.type===At.pop&&o.go(-1,!1)}).catch(W),Promise.reject()):(n.delta&&o.go(-n.delta,!1),x(t,r,s))).then(t=>{(t=t||_(r,s,!1))&&(n.delta&&!Gt(t,Pt.NAVIGATION_CANCELLED)?o.go(-n.delta,!1):n.type===At.pop&&Gt(t,Pt.NAVIGATION_ABORTED|Pt.NAVIGATION_DUPLICATED)&&o.go(-1,!1)),w(r,s,t)}).catch(W)}))}let S,P=qt(),D=qt();function x(t,e,n){G(t);const r=D.list();return r.length&&r.forEach(r=>r(t,e,n)),Promise.reject(t)}function G(t){return S||(S=!t,T(),P.list().forEach(([e,n])=>t?n(t):e()),P.reset()),t}function k(e,n,r,o){const{scrollBehavior:a}=t;if(!U||!a)return Promise.resolve();const s=!r&&function(t){const e=Tt.get(t);return Tt.delete(t),e}(Ct(e.fullPath,0))||(o||!r)&&history.state&&history.state.scroll||null;return l().then(()=>a(e,n,s)).then(t=>t&&_t(t)).catch(t=>x(t,e,n))}const B=t=>o.go(t);let j;const L=new Set,V={currentRoute:i,listening:!0,addRoute:function(t,n){let r,o;return St(t)?(r=e.getRecordMatcher(t),o=n):o=t,e.addRoute(o,r)},removeRoute:function(t){const n=e.getRecordMatcher(t);n&&e.removeRoute(n)},clearRoutes:e.clearRoutes,hasRoute:function(t){return!!e.getRecordMatcher(t)},getRoutes:function(){return e.getRoutes().map(t=>t.record)},resolve:d,options:t,push:E,replace:function(t){return E(q(g(t),{replace:!0}))},go:B,back:()=>B(-1),forward:()=>B(1),beforeEach:a.add,beforeResolve:s.add,afterEach:c.add,onError:D.add,isReady:function(){return S&&i.value!==Et?Promise.resolve():new Promise((t,e)=>{P.add([t,e])})},install(t){t.component("RouterLink",ve),t.component("RouterView",Ae),t.config.globalProperties.$router=V,Object.defineProperty(t.config.globalProperties,"$route",{enumerable:!0,get:()=>v(i)}),U&&!j&&i.value===Et&&(j=!0,E(o.location).catch(t=>{}));const e={};for(const r in Et)Object.defineProperty(e,r,{get:()=>i.value[r],enumerable:!0});t.provide($t,V),t.provide(Ut,y(e)),t.provide(Mt,i);const n=t.unmount;L.add(t),t.unmount=function(){L.delete(t),L.size<1&&(u=Et,C&&C(),C=null,i.value=Et,j=!1,S=!1),n()}}};function $(t){return t.reduce((t,e)=>t.then(()=>I(e)),Promise.resolve())}return V}export{Qt as a,_ as b,Oe as c,$ as d,Gt as i};
