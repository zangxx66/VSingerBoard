import{p as s,d as o,v as a,m as e,E as l}from"./vendor-element-plus-J1ABhGI2.js";import{q as t,r,c as i,t as c,v as n,O as m,S as p,V as u,T as g,L as C,M as d,K as v,R as f,C as w,bN as _,bO as b}from"./vendor-libs-BJ1SQKxe.js";import{_ as A}from"./_plugin-vue_export-helper-BCo6x5W8.js";import"./vendor-exceljs-BzIpynsW.js";const y={class:"platform-status-container"},E=["src","alt"],j=A(t({__name:"platformStatus",props:{platform:{},roomId:{},wsStatus:{}},setup(t){const A=t,j=r(!1),F=()=>{j.value=!0;try{"bilibili"==A.platform?window.pywebview.api.restart_bilibili_ws():window.pywebview.api.restart_douyin_ws(),l.success("刷新成功，请等待操作完成")}catch(s){l.error(s)}finally{setTimeout(()=>{j.value=!1},5e3)}},x={bilibili:new Map([[-1,{color:"#F56C6C",icon:w,message:"未配置或出现错误"}],[0,{color:"#E6A23C",icon:_,message:"初始化"}],[1,{color:"#E6A23C",icon:_,message:"连接建立中"}],[2,{color:"#67C23A",icon:b,message:"已连接"}],[3,{color:"#E6A23C",icon:_,message:"断开连接中"}],[4,{color:"#F56C6C",icon:w,message:"已断开"}],[5,{color:"#F56C6C",icon:w,message:"出现错误"}]]),douyin:new Map([[-1,{color:"#F56C6C",icon:w,message:"未配置或出现错误"}],[0,{color:"#E6A23C",icon:_,message:"未连接"}],[1,{color:"#67C23A",icon:b,message:"已连接"}],[2,{color:"#E6A23C",icon:_,message:"已断开"}],[3,{color:"#F56C6C",icon:w,message:"出现错误"}]])},S=i(()=>x[A.platform].get(A.wsStatus));return(l,t)=>{const r=o,i=s,w=e,_=a;return n(),c("div",y,[m("img",{src:`/assets/images/${l.platform}.png`,class:"source-img",alt:l.platform,width:"24"},null,8,E),p("："+g(l.roomId)+"   ",1),u(w,{placement:"top"},{content:C(()=>[m("span",null,"当前状态："+g(S.value.message)+"，如有异常点击重新连接",1)]),default:C(()=>[d((n(),v(i,{text:"",onClick:F},{default:C(()=>[u(r,{color:S.value.color,class:"status-img"},{default:C(()=>[(n(),v(f(S.value.icon)))]),_:1},8,["color"])]),_:1})),[[_,j.value]])]),_:1})])}}}),[["__scopeId","data-v-72b94e55"]]);export{j as default};
