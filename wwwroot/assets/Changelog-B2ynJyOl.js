import{a as e,p as a,w as s}from"./vendor-element-plus-qW3C2DUX.js";import{b as n}from"./index-C5BYMrVs.js";import"./vendor-exceljs-BzIpynsW.js";import{B as l,m as i,H as r}from"./vendor-marked-Con12i8t.js";import{o as t,ap as o,r as h,Z as g,J as d,t as p,K as v,L as c,q as u,M as m,S as f}from"./vendor-libs-DrwAYO3L.js";import"./vendor-vue-Bh1BfAe7.js";const w={class:"changelog-container"},b=["innerHTML"],j=t({__name:"Changelog",setup(t){const j=o({version:"",publishedAt:"",changelog:""}),x=h(!1),y=new l(i({emptyLangClass:"hljs",langPrefix:"",highlight(e,a,s){const n=r.getLanguage(a)?a:"plaintext";return r.highlight(e,{language:n}).value}}));return g(async()=>{x.value=!0;const a=await window.pywebview.api.update_verion();if(0==a.code){j.version=a.version,j.publishedAt=n(a.published_at);const e=await y.parse(a.body),s='<svg viewBox="0 0 24 24" width="1.2em" height="1.2em" class="link-icon" style="display: inline-block; vertical-align: middle; margin-left: 3px;"><path fill="currentColor" d="M10 6v2H5v11h11v-5h2v6a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h6zm11-3v8h-2V6.413l-7.793 7.794l-1.414-1.414L17.585 5H13V3h8z"></path></svg>';j.changelog=e.replace(/<a href/g,'<a target="_blank" href').replace(/<\/a>/g,`${s}</a>`)}else e.warning("获取更新日志失败");x.value=!1}),(e,n)=>{const l=a,i=s;return p(),d(l,null,{header:v(()=>[...n[0]||(n[0]=[m("div",{class:"card-header"},[m("span",null,"更新日志")],-1)])]),default:v(()=>[c((p(),u("div",w,[m("h3",null,f(j.version),1),m("p",null,f(j.publishedAt),1),m("div",{class:"md-content",innerHTML:j.changelog},null,8,b)])),[[i,x.value]])]),_:1})}}});export{j as default};
